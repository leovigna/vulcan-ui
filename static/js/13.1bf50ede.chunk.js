(this["webpackJsonpreact-admin-starter"]=this["webpackJsonpreact-admin-starter"]||[]).push([[13],{940:function(e,t,a){"use strict";a.r(t);var n=a(235),r=a(236),l=a(238),c=a(237),o=a(239),i=a(2),u=a.n(i),s=a(887),d=a(888),m=a(920),E=a.n(m),h=a(241),z=a(567),f=a(905),v=a(893),b=a(917),p=a(918),x=a(935),O=a(897),C=a(919),j=a(898),k=a(923),w=a(243),S=a(904),g=a.n(S),y=a(924),L=a.n(y),D=a(126),R=(a(230),a(127),k.newContextComponents.ContractData),N=function(e){var t=e.address,a=e.tx;return t?u.a.createElement("a",{href:"https://etherscan.io/address/"+t},t):a?u.a.createElement("a",{href:"https://etherscan.io/tx/"+a},a.slice(0,10)+"..."):null},A=function(e){var t=e.contract,a=Object(i.useContext)(h.DrizzleContext.Context),n=a.drizzle,r=a.drizzleState;return a.initialized?u.a.createElement(b.a,null,u.a.createElement(p.a,null,"Round ID ",u.a.createElement(R,{drizzle:n,drizzleState:r,contract:t,method:"latestRound",render:function(e){return e}})),u.a.createElement(p.a,null,"$ ",u.a.createElement(R,{drizzle:n,drizzleState:r,contract:t,method:"latestAnswer",render:function(e){return(1e-8*e).toFixed(2)}})),u.a.createElement(p.a,null,"Last update\xa0",u.a.createElement(R,{drizzle:n,drizzleState:r,contract:t,method:"latestTimestamp",render:function(e){return g()(e,"X").format("LLLL")}})),u.a.createElement(p.a,null,"Next update (every 1hr)\xa0",u.a.createElement(R,{drizzle:n,drizzleState:r,contract:t,method:"latestTimestamp",render:function(e){var t=g()(e,"X").add(1,"hours"),a=g.a.duration(t.diff(g()()));return"".concat(a.hours(),":").concat(a.minutes(),":").concat(a.seconds())}}))):null};var F=Object(w.b)((function(e){return{tx:e.tx,blocks:e.blocks}}))((function(e){var t,a=e.contract,n=e.tx,r=e.blocks,l=Object(i.useContext)(h.DrizzleContext.Context),c=l.drizzle,o=l.drizzleState,s=Object(i.useState)(),d=Object(v.a)(s,2),m=d[0],E=d[1],z=Object(i.useState)(),b=Object(v.a)(z,2),p=b[0],O=b[1],C=Object(i.useState)({}),j=Object(v.a)(C,2),k=j[0],w=j[1];Object(i.useEffect)((function(){var e=c.contracts[a].methods.latestRound.cacheCall();E(e)}),[]),Object(i.useEffect)((function(){var e={},t=c.contracts[a];p&&t.events.ResponseReceived({fromBlock:97e5,toBlock:"latest",filter:{answerId:p}}).on("data",(function(t){e[t.returnValues.sender]=t;var a=t.transactionHash;c.store.dispatch({type:D.a,transactionHash:a}),w(e)}))}),[p]);var S=null===(t=o.contracts[a].latestRound[m])||void 0===t?void 0:t.value;return S!=p&&O(S),u.a.createElement(x.a,{hover:!0,responsive:!0,className:"table-outline mb-0 d-none d-sm-table"},u.a.createElement("thead",{className:"thead-light"},u.a.createElement("tr",null,u.a.createElement("th",null,"Oracle"),u.a.createElement("th",null,"Answer"),u.a.createElement("th",null,"Gas Price (Gwei)"),u.a.createElement("th",null,"Transaction"),u.a.createElement("th",null,"Date"))),u.a.createElement("tbody",null,Object(f.a)(Array(20).keys()).map((function(e){return u.a.createElement(R,{key:e,drizzle:c,drizzleState:o,contract:a,method:"oracles",methodArgs:[e],render:function(e){var t=k[e]||{},a=t.returnValues,l=t.transactionHash,c=(1e-8*((null===a||void 0===a?void 0:a.response)||0)).toFixed(2),o=n[l]||{},i=(1e-9*(o.gasPrice||0)).toFixed(2),s=(r[o.blockNumber]||{}).timestamp;return u.a.createElement("tr",null,u.a.createElement("td",null,u.a.createElement("div",null,u.a.createElement(N,{address:e}))),u.a.createElement("td",null,u.a.createElement("div",null,c)),u.a.createElement("td",null,u.a.createElement("div",null,i," Gwei")),u.a.createElement("td",null,u.a.createElement("div",null,u.a.createElement(N,{tx:l}))),u.a.createElement("td",null,u.a.createElement("div",null,s?u.a.createElement(L.a,{unix:!0,format:"LLLL"},s):"loading...")))}})}))))})),I=function(e){var t=e.contract;return Object(i.useContext)(h.DrizzleContext.Context).initialized?u.a.createElement("div",null,u.a.createElement(O.a,null,u.a.createElement(C.a,null,t," Aggregate data"),u.a.createElement(j.a,null,u.a.createElement(A,{contract:t}))),u.a.createElement(O.a,null,u.a.createElement(C.a,null,"Oracles data"),u.a.createElement(j.a,null,u.a.createElement(F,{contract:t})))):null},T=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(l.a)(this,Object(c.a)(t).call(this,e))).loading=function(){return u.a.createElement("div",{className:"animated fadeIn pt-1 text-center"},"Loading...")},a}return Object(o.a)(t,e),Object(r.a)(t,[{key:"componentDidCatch",value:function(e,t){console.error(e,t)}},{key:"render",value:function(){var e=E.a.parse(this.props.location.search,{ignoreQueryPrefix:!0}),t=this.props.match.params.address||e.address,a=this.context,n=a.drizzle;a.drizzleState;if(!a.initialized)return null;if(!n.contracts[t]){var r={contractName:t,web3Contract:new n.web3.eth.Contract(z.compilerOutput.abi,t)};return n.addContract(r,["AnswerUpdated","ResponseReceived"]),null}return u.a.createElement("div",{className:"animated fadeIn"},u.a.createElement(s.a,null,u.a.createElement(d.a,null,u.a.createElement(I,{contract:t}))))}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),t}(i.Component);T.contextType=h.DrizzleContext.Context;t.default=T}}]);
//# sourceMappingURL=13.1bf50ede.chunk.js.map